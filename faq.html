<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>第 15 章 常见问题</title>
<link rel="stylesheet" href="docbook.css" type="text/css">
<meta name="generator" content="DocBook XSL Stylesheets V1.75.2">
<link rel="home" href="index.html" title="小企鹅输入法（fcitx）">
<link rel="up" href="part-appendix.html" title="部分 IV. 附录">
<link rel="prev" href="sect1-uninstall.html" title="14.3. 卸载">
<link rel="next" href="article-thanks.html" title="致谢">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<div class="navheader">
<table width="100%" summary="Navigation header">
<tr><th colspan="3" align="center">第 15 章 常见问题</th></tr>
<tr>
<td width="20%" align="left">
<a accesskey="p" href="sect1-uninstall.html">上一页</a> </td>
<th width="60%" align="center">部分 IV. 附录</th>
<td width="20%" align="right"> <a accesskey="n" href="article-thanks.html">下一页</a>
</td>
</tr>
</table>
<hr>
</div>
<div class="chapter" title="第 15 章 常见问题">
<div class="titlepage"><div><div><h2 class="title">
<a name="faq"></a>第 15 章 常见问题</h2></div></div></div>
<div class="qandaset" title="常见问题">
<a name="id4083667"></a><dl>
<dt>15.1. <a href="faq.html#new-problem">遭遇了4.1之前不曾遇到的输入问题（非输入法不能启用，而是例如删除文本错误，或者已经启用输入法但是无法输入）</a>
</dt>
<dt>15.2. <a href="faq.html#X11-not-found">编译时说找不到文件X11/Xlib.h</a>
</dt>
<dt>15.3. <a href="faq.html#ctrl_space">编译安装完成后，按ctrl_space无法打开fcitx的输入条啊？</a>
</dt>
<dt>15.4. <a href="faq.html#color">界面的颜色怎么那么难看？</a>
</dt>
<dt>15.5. <a href="faq.html#gnome-auto-start-slow">我将fcitx加到gnome的自动启动后，gnome怎么启动那么慢？</a>
</dt>
<dt>15.6. <a href="faq.html#fcitx-load-code-table">为什么有时候fcitx会卡几秒？</a>
</dt>
<dt>15.7. <a href="faq.html#duplicate-characters">为什么我只按了一个键，输入条上却出现两个相同的字符？</a>
</dt>
<dt>15.8. <a href="faq.html#en_US.UTF-8">当我使用en_US.UTF-8时，为什么无法激活fcitx？</a>
</dt>
<dt>15.9. <a href="faq.html#default-fonts-is-not-my-common-use">fcitx的默认字体并不是我常用字体</a>
</dt>
<dt>15.10. <a href="faq.html#compositing_manager">有些皮肤周围为什么有不透明的黑边</a>
</dt>
<dt>15.11. <a href="faq.html#background-is-black">fcitx启动后图标背景为黑色，但关闭后手动启动背景颜色正常</a>
</dt>
<dt>15.12. <a href="faq.html#firefox-first-letter">有时Firefox中输入的第一个字母会丢失</a>
</dt>
<dt>15.13. <a href="faq.html#follow-cursor">fcitx在某些的程序中无法光标跟随/光标跟随存在问题</a>
</dt>
<dt>15.14. <a href="faq.html#does-not-work-in-adobe-flash">在flash中无法输入</a>
</dt>
<dt>15.15. <a href="faq.html#i-am-not-satisfy-pymb">我对于fcitx拼音词库很不满</a>
</dt>
<dt>15.16. <a href="faq.html#kde4-kimpanel-problem">我是kde4用户，kimpanel的问题太多了，可是我又想界面协调</a>
</dt>
<dt>15.17. <a href="faq.html#jp-mb">我想输入日语怎么办？</a>
</dt>
<dt>15.18. <a href="faq.html#emotion-charactors">我想输入颜文字</a>
</dt>
<dt>15.19. <a href="faq.html#vnc-nomachine">我在使用vnc/nomachine远程连接时，fcitx好像不太好使？</a>
</dt>
<dt>15.20. <a href="faq.html#report-issue">我发现了 fcitx 的 bug 怎么办？</a>
</dt>
</dl>
<table border="0" width="100%" summary="Q and A Set">
<col align="left" width="1%">
<col>
<tbody>
<tr class="question" title="15.1.">
<td align="left" valign="top">
<a name="new-problem"></a><a name="id4083652"></a><p><b>15.1.</b></p>
</td>
<td align="left" valign="top"><p>遭遇了4.1之前不曾遇到的输入问题（非输入法不能启用，而是例如删除文本错误，或者已经启用输入法但是无法输入）</p></td>
</tr>
<tr class="answer">
<td align="left" valign="top"></td>
<td align="left" valign="top">
<p>如果是gtk或者qt程序的问题，请先尝试ctrl+alt+p关掉预编辑嵌入模式。</p>
<p>如果是x程序，请尝试关掉xim的On The Spot支持（需要重启输入法）。</p>
</td>
</tr>
<tr class="question" title="15.2.">
<td align="left" valign="top">
<a name="X11-not-found"></a><a name="id4116138"></a><p><b>15.2.</b></p>
</td>
<td align="left" valign="top"><p>编译时说找不到文件X11/Xlib.h</p></td>
</tr>
<tr class="answer">
<td align="left" valign="top"></td>
<td align="left" valign="top"><p>这个信息是说编译程序没有找到X的头文件，一般是因为您没有安装X的开发包（在RH/MDK中名为XF*-devel-*或xorg-*-devel-*）。</p></td>
</tr>
<tr class="question" title="15.3.">
<td align="left" valign="top">
<a name="ctrl_space"></a><a name="id4060946"></a><p><b>15.3.</b></p>
</td>
<td align="left" valign="top"><p>编译安装完成后，按ctrl_space无法打开fcitx的输入条啊？</p></td>
</tr>
<tr class="answer">
<td align="left" valign="top"></td>
<td align="left" valign="top">
<p>这个的原因有很多并且十分复杂。你可能需要一一排查以下情况：</p>
<p>
					如果其他程序可以成功使用fcitx，只有单独某个程序不能使用，那么也许是ctrl space的快捷键被抢占了，想办法设置保证不冲突。
				</p>
<p>
					如果一类程序（GTK，或者QT），或者全部的程序都不能输入，你需要检查环境变量。
				</p>
<p>
					打开一个终端，输入
					</p>
<pre class="programlisting">
echo $XMODIFIERS
echo $GTK_IM_MODULE
echo $QT_IM_MODULE
					</pre>
<p>
					检查是不是你想要的值。具体值参见<a class="link" href="chapter-config-env.html" title="第 2 章 配置环境">配置环境</a>。
					如果是，先尝试从终端中启动程序看是否可以输入。如果不可以，有以下可能，你的locale没有生成，需要通过 locale -a 查看你当期的locale是否存在。
				</p>
<p>对于GTK程序，可以通过 gtk-query-immodules-2.0/gtk-query-immodules-3.0 检查是否有 xim 以及 fcitx 。如果有，但是不能输入，你也许应该继续检查 /etc/gtk-2.0/gtk.immodules 和 /usr/lib/gtk-3.0/3.0.0/immodules.cache （不同发行版和cpu架构可能路径不同） 是否和之前的命令输出相同。如果没有 xim 模块（这一般出现在opensuse上，因为它单独打包了xim的im module）。
				</p>
<p>
					如果终端中启动的程序可以，但是桌面启动的程序不行，那么你的环境变量可能仅仅设置在shell里面，而不是启动桌面的时候设置的环境变量，可以管用的位置有 ~/.xprofile （通过gdm或者kdm启动时），或者 ~/.xinitrc （通过slim或者startx启动时）
				</p>
<p>
					检查 GTK 程序使用的输入模块。首先开启一个普通的gtk程序（不可以是firefox），比如gtk-demo就是一个不错的选择。在输入框右键单击，在输入法菜单里面检查是否是xim或者fcitx，如果不是，那么说明gtk没有选择fcitx支持的方式进行输入。需要设置 GTK_IM_MODULE=xim 或者 fcitx （4.1以后）才可以。
				</p>
<p>
					检查 QT 程序使用的输入模块。执行qtconfig 看选中的输入法模块，可以使用的是xim和fcitx，xim在 4.0.1之前只支持over the spot。
					还可能存在的问题就是 /usr/share/X11/locale/ 没有你的locale（在一些自行编译的嵌入式系统上可能出现）。
				</p>
<p>
					检查是否正在使用fcitx im module 最简单的办法是执行 dbus-monitor，观察是否有org.fcitx.Fcitx 的内容。
				</p>
</td>
</tr>
<tr class="question" title="15.4.">
<td align="left" valign="top">
<a name="color"></a><a name="id4038727"></a><p><b>15.4.</b></p>
</td>
<td align="left" valign="top"><p>界面的颜色怎么那么难看？</p></td>
</tr>
<tr class="answer">
<td align="left" valign="top"></td>
<td align="left" valign="top"><p>欢迎你贡献你自己觉得更好的配色。</p></td>
</tr>
<tr class="question" title="15.5.">
<td align="left" valign="top">
<a name="gnome-auto-start-slow"></a><a name="id4050658"></a><p><b>15.5.</b></p>
</td>
<td align="left" valign="top"><p>我将fcitx加到gnome的自动启动后，gnome怎么启动那么慢？</p></td>
</tr>
<tr class="answer">
<td align="left" valign="top"></td>
<td align="left" valign="top"><p>把<code class="filename">~/.gnome2/session-manual</code>里面0,Priority=31的31换成50即可。</p></td>
</tr>
<tr class="question" title="15.6.">
<td align="left" valign="top">
<a name="fcitx-load-code-table"></a><a name="id4044348"></a><p><b>15.6.</b></p>
</td>
<td align="left" valign="top"><p>为什么有时候fcitx会卡几秒？</p></td>
</tr>
<tr class="answer">
<td align="left" valign="top"></td>
<td align="left" valign="top"><p>fcitx是在第一次输入时读入码表，如果码表比较大的话，读入的时间可能会比较久一些，感觉有些卡，但后面输入就不会再有这种现象了（如果切换了输入法的话，切换后的第一次输入也会重新读入码表）。</p></td>
</tr>
<tr class="question" title="15.7.">
<td align="left" valign="top">
<a name="duplicate-characters"></a><a name="id4041810"></a><p><b>15.7.</b></p>
</td>
<td align="left" valign="top"><p>为什么我只按了一个键，输入条上却出现两个相同的字符？</p></td>
</tr>
<tr class="answer">
<td align="left" valign="top"></td>
<td align="left" valign="top"><p>这种情况一般出现在KDE中。应该是QT的XIM支持出现问题。出现这个现象时，请在窗口管理器的标题栏按鼠标右键弹出系统菜单，然后按ctrl_space关闭输入法，重新回到应用程序就可以了。</p></td>
</tr>
<tr class="question" title="15.8.">
<td align="left" valign="top">
<a name="en_US.UTF-8"></a><a name="id4057328"></a><p><b>15.8.</b></p>
</td>
<td align="left" valign="top"><p>当我使用en_US.UTF-8时，为什么无法激活fcitx？</p></td>
</tr>
<tr class="answer">
<td align="left" valign="top"></td>
<td align="left" valign="top"><p>
					参加前面的<a class="link" href="chapter-config-env.html" title="第 2 章 配置环境">环境配置</a>和<a class="link" href="faq.html#ctrl_space" title="15.3.">faq</a>
				</p></td>
</tr>
<tr class="question" title="15.9.">
<td align="left" valign="top">
<a name="default-fonts-is-not-my-common-use"></a><a name="id4159399"></a><p><b>15.9.</b></p>
</td>
<td align="left" valign="top"><p>fcitx的默认字体并不是我常用字体</p></td>
</tr>
<tr class="answer">
<td align="left" valign="top"></td>
<td align="left" valign="top"><p>由于fcitx并没有使用一些高层的字体处理，默认字体仅仅是利用Fontconfig找到的一个系统当中的中文字体（并无优先级关系，也不服从<code class="filename">/etc/fonts.conf</code>）。
					可以通过配置文件指定具体的字体解决。或者你应该考虑编译时enable-pango，这样字体设置就有更好的支持了。</p></td>
</tr>
<tr class="question" title="15.10.">
<td align="left" valign="top">
<a name="compositing_manager"></a><a name="id4125006"></a><p><b>15.10.</b></p>
</td>
<td align="left" valign="top"><p>有些皮肤周围为什么有不透明的黑边</p></td>
</tr>
<tr class="answer">
<td align="left" valign="top"></td>
<td align="left" valign="top">
<p>由于Xserver需要可以支持混成的窗口管理器才能处理真透明效果，因此需要对窗口管理器本身进行设置。相应的开启混成之后会消耗更多的CPU和GPU性能，因此是否开启这个效果请自己权衡。</p>
<p>分为以下情况：</p>
<div class="orderedlist"><ol class="orderedlist" type="1">
<li class="listitem">
<p>Gnome</p>
<p>Metacity可以支持混成，但由于不是所有的显卡和驱动程序都能很好地支持混成，因此混成在gnome中默认是未开启的。如果你的显卡和驱动程序支持3D加速，则可以开启之。</p>
<p>使用gconf-editor进行编辑，编辑<code class="code">/apps/metacity/general/compositing_manager</code>，设置为真即可。</p>
<p>或者直接使用下面的命令启用：</p>
<pre class="synopsis">gconftool-2 -s --type bool /apps/metacity/general/compositing_manager true</pre>
<p>如果你想禁用它，修改“true”为“false”，并重新执行该命令。</p>
</li>
<li class="listitem">
<p>KDE4</p>
<p>Kwin可以支持混成，在系统设置，桌面效果内设置。</p>
</li>
<li class="listitem">
<p>XFCE</p>
<p>Xfwm4支持混成，在高级窗口管理器内进行设置。</p>
</li>
<li class="listitem">
<p>Compiz</p>
<p>Compiz &gt;= 0.9.0可能默认没有开启混成，可以通过安装ccsm进行配置。</p>
</li>
<li class="listitem">
<p>其他</p>
<p>其他窗口管理器可以通过一个额外的混成管理器xcompmgr进行混成管理。只需要安装它即可。另外也可以将之前所述的窗口管理器在不开启混成的情形下同时使用xcompmgr，但相应的可能不如原生的效果那么好。</p>
</li>
</ol></div>
</td>
</tr>
<tr class="question" title="15.11.">
<td align="left" valign="top">
<a name="background-is-black"></a><a name="id4153317"></a><p><b>15.11.</b></p>
</td>
<td align="left" valign="top"><p>fcitx启动后图标背景为黑色，但关闭后手动启动背景颜色正常</p></td>
</tr>
<tr class="answer">
<td align="left" valign="top"></td>
<td align="left" valign="top"><p>你可以通过设置DelayStart延迟几秒启动fcitx，在支持混成的窗口管理器和面板启动之后再启动fcitx。</p></td>
</tr>
<tr class="question" title="15.12.">
<td align="left" valign="top">
<a name="firefox-first-letter"></a><a name="id4094231"></a><p><b>15.12.</b></p>
</td>
<td align="left" valign="top"><p>有时Firefox中输入的第一个字母会丢失</p></td>
</tr>
<tr class="answer">
<td align="left" valign="top"></td>
<td align="left" valign="top"><p>请使用GTK IM Module，参见<a class="link" href="chapter-config-env.html" title="第 2 章 配置环境">环境配置</a></p></td>
</tr>
<tr class="question" title="15.13.">
<td align="left" valign="top">
<a name="follow-cursor"></a><a name="id4061022"></a><p><b>15.13.</b></p>
</td>
<td align="left" valign="top"><p>fcitx在某些的程序中无法光标跟随/光标跟随存在问题</p></td>
</tr>
<tr class="answer">
<td align="left" valign="top"></td>
<td align="left" valign="top"><p>请使用IM Module，以及调整xim的style，参见<a class="link" href="chapter-config-env.html" title="第 2 章 配置环境">环境配置</a></p></td>
</tr>
<tr class="question" title="15.14.">
<td align="left" valign="top">
<a name="does-not-work-in-adobe-flash"></a><a name="id4093470"></a><p><b>15.14.</b></p>
</td>
<td align="left" valign="top"><p>在flash中无法输入</p></td>
</tr>
<tr class="answer">
<td align="left" valign="top"></td>
<td align="left" valign="top"><p>请使用GTK IM Module，参见<a class="link" href="chapter-config-env.html" title="第 2 章 配置环境">环境配置</a></p></td>
</tr>
<tr class="question" title="15.15.">
<td align="left" valign="top">
<a name="i-am-not-satisfy-pymb"></a><a name="id4111101"></a><p><b>15.15.</b></p>
</td>
<td align="left" valign="top"><p>我对于fcitx拼音词库很不满</p></td>
</tr>
<tr class="answer">
<td align="left" valign="top"></td>
<td align="left" valign="top">
<p>
				有两个折中的解决方案。
					</p>
<div class="orderedlist"><ol class="orderedlist" type="1">
<li class="listitem"><p>
								利用createPYMB创建自己的词库，放在~/.config/fcitx/pinyin下面。
							</p></li>
<li class="listitem"><p>
								尝试fcitx-sunpinyin，sunpinyin是一个基于语言模型的pinyin开源输入法项目，对于整句输入有很大提升。
							</p></li>
</ol></div>
<p> 
				</p>
</td>
</tr>
<tr class="question" title="15.16.">
<td align="left" valign="top">
<a name="kde4-kimpanel-problem"></a><a name="id4096186"></a><p><b>15.16.</b></p>
</td>
<td align="left" valign="top"><p>我是kde4用户，kimpanel的问题太多了，可是我又想界面协调</p></td>
</tr>
<tr class="answer">
<td align="left" valign="top"></td>
<td align="left" valign="top"><p>你可以尝试这里的小工具<a class="ulink" href="http://csslayer.tk/wordpress/fcitx%E5%BC%80%E5%8F%91/fcitx-skingenerator/" target="_top">http://csslayer.tk/wordpress/fcitx开发/fcitx-skingenerator/</a></p></td>
</tr>
<tr class="question" title="15.17.">
<td align="left" valign="top">
<a name="jp-mb"></a><a name="id4103015"></a><p><b>15.17.</b></p>
</td>
<td align="left" valign="top"><p>我想输入日语怎么办？</p></td>
</tr>
<tr class="answer">
<td align="left" valign="top"></td>
<td align="left" valign="top"><p>你可以尝试这里：<a class="ulink" href="http://forum.ubuntu.org.cn/viewtopic.php?f=8&amp;t=290712&amp;start=0" target="_top">http://forum.ubuntu.org.cn/viewtopic.php?f=8&amp;t=290712&amp;start=0</a> 5楼的码表。 或者请等待基于anthy的fcitx的输入法wrapper，这个项目目前在计划中。 </p></td>
</tr>
<tr class="question" title="15.18.">
<td align="left" valign="top">
<a name="emotion-charactors"></a><a name="id4094596"></a><p><b>15.18.</b></p>
</td>
<td align="left" valign="top"><p>我想输入颜文字</p></td>
</tr>
<tr class="answer">
<td align="left" valign="top"></td>
<td align="left" valign="top"><p>fcitx的QuickPhrase?在你有想象力的前提下，可以发挥很多功能，例如用来输入颜文字，例如用来根据Latex的标记输入特殊符号。 </p></td>
</tr>
<tr class="question" title="15.19.">
<td align="left" valign="top">
<a name="vnc-nomachine"></a><a name="id4118867"></a><p><b>15.19.</b></p>
</td>
<td align="left" valign="top"><p>我在使用vnc/nomachine远程连接时，fcitx好像不太好使？</p></td>
</tr>
<tr class="answer">
<td align="left" valign="top"></td>
<td align="left" valign="top"><p>vnc下fcitx似乎确实有问题，但我们尚未验证是否这是基于xim的通病。
	nomachine/nx下是没有问题的，不过由于你可能是使用windows进行远程连接，那么ctrl+space会被windows的输入法抢走而不会传递到远程的计算机上，你可以考虑将fcitx 的输入法切换快捷键设置为shift+space。在linux的nx客户端没有问题。 </p></td>
</tr>
<tr class="question" title="15.20.">
<td align="left" valign="top">
<a name="report-issue"></a><a name="id4095659"></a><p><b>15.20.</b></p>
</td>
<td align="left" valign="top"><p>我发现了 fcitx 的 bug 怎么办？</p></td>
</tr>
<tr class="answer">
<td align="left" valign="top"></td>
<td align="left" valign="top"><div class="orderedlist"><ol class="orderedlist" type="1">
<li class="listitem"><p>
							确认你发现的问题不在<a class="link" href="faq.html" title="第 15 章 常见问题">常见问题</a>列表里。
						</p></li>
<li class="listitem"><p>
						在 <a class="ulink" href="http://code.google.com/p/fcitx/issues/list" target="_top">Issues</a> 中查询，
						确认尚未有人报告该问题；
						如果已经有人报告了该问题，
						但是你想补充更多信息，
						可以回复进行补充。
						</p></li>
<li class="listitem">
<p>如果确认了不是已知问题，那么不必拘束，在 <a class="ulink" href="http://code.google.com/p/fcitx/issues/list" target="_top">Issues</a>
							中 New issue 提交 bug 的详细情况，我们将尽快确认。
						</p>
<p>
							如果是导致 fcitx 退出的错误，
							你可以查看 <code class="filename">~/.config/fcitx/log/crash.log</code> 中是否有相关信息，
							同时将这个信息和你的 fcitx 已经编译的二进制文件发上来。
						</p>
</li>
</ol></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="navfooter">
<hr>
<table width="100%" summary="Navigation footer">
<tr>
<td width="40%" align="left">
<a accesskey="p" href="sect1-uninstall.html">上一页</a> </td>
<td width="20%" align="center"><a accesskey="u" href="part-appendix.html">上一级</a></td>
<td width="40%" align="right"> <a accesskey="n" href="article-thanks.html">下一页</a>
</td>
</tr>
<tr>
<td width="40%" align="left" valign="top">14.3. 卸载 </td>
<td width="20%" align="center"><a accesskey="h" href="index.html">起始页</a></td>
<td width="40%" align="right" valign="top"> 致谢</td>
</tr>
</table>
</div>
</body>
</html>
